<div
  class="relative pl-8 border-l-2 transition-all"
  [class.border-emerald-500/50]="role().isCurrent"
  [class.border-slate-700]="!role().isCurrent"
>
  <span
    class="absolute -left-3 top-0 w-4 h-4 rounded-full transition-all"
    [class.bg-emerald-500]="role().isCurrent"
    [class.shadow-emerald-500/50]="role().isCurrent"
    [class.shadow-lg]="role().isCurrent"
    [class.bg-slate-600]="!role().isCurrent"
  ></span>
  <div class="flex flex-wrap items-baseline gap-2 mb-2">
    <span class="text-slate-100 font-semibold">{{ role().title }}</span>
    <span class="text-emerald-400">@ {{ role().company }}</span>
  </div>
  <p class="text-slate-500 text-sm font-mono mb-3">{{ role().period }}</p>
  <p class="text-slate-400 leading-relaxed mb-4">{{ role().description }}</p>
  @if (role().responsibilities?.length) {
    <button
      type="button"
      (click)="toggleResponsibilities()"
      class="text-sm font-medium text-emerald-400 hover:text-emerald-300 transition-colors flex items-center gap-1 mb-2"
    >
      {{ isExpanded ? 'Hide' : 'View' }} Responsibilities
      <span class="inline-block transition-transform duration-200" [class.rotate-180]="isExpanded">â–¼</span>
    </button>
    @if (isExpanded) {
      <ul class="pl-4 space-y-1 text-sm text-slate-500 list-disc animate-fade-in mb-4">
        @for (resp of role().responsibilities; track resp) {
          <li>{{ resp }}</li>
        }
      </ul>
    }
  }
  <div class="flex flex-wrap gap-2">
    @for (tech of role().tech; track tech) {
      <span class="px-2 py-1 rounded text-xs bg-slate-800/80 text-slate-400 font-mono">{{ tech }}</span>
    }
  </div>
</div>
