<ion-card class="glass-card project-card rounded-xl overflow-hidden ion-no-margin transition-all duration-300 hover:border-emerald-500/30 hover:shadow-lg hover:shadow-emerald-500/10 hover:-translate-y-1">
  @if (project().imageUrl) {
    <div class="relative w-full h-36 overflow-hidden bg-slate-800/50">
      <img
        [src]="project().imageUrl"
        [alt]="project().title"
        loading="lazy"
        decoding="async"
        draggable="false"
        (dragstart)="$event.preventDefault()"
        (contextmenu)="$event.preventDefault()"
        class="w-full h-full object-cover object-top select-none"
      />
    </div>
  }
  <ion-card-header class="pb-2">
    <div class="flex flex-wrap items-center gap-2 mb-1">
      <ion-card-title class="text-lg font-semibold text-slate-100">{{ project().title }}</ion-card-title>
      <span class="text-xs font-medium text-emerald-400 bg-emerald-500/10 px-2 py-0.5 rounded">{{ project().year }}</span>
    </div>
    <p class="text-sm text-slate-400">{{ project().role }}</p>
  </ion-card-header>
  <ion-card-content class="pt-0">
    <div class="flex flex-wrap gap-1.5 mb-3">
      @for (tech of project().tech; track tech) {
        <span class="text-xs px-2 py-1 rounded-md bg-slate-700/50 text-slate-300 transition-all duration-200 hover:bg-emerald-500/20 hover:text-emerald-400">{{ tech }}</span>
      }
    </div>
    <p class="text-sm text-slate-400 leading-relaxed mb-3">{{ project().description }}</p>
    @if (project().objectives && project().objectives.length) {
      <div class="mb-3">
        <button
          type="button"
          (click)="toggleObjectives()"
          class="text-sm font-medium text-emerald-400 hover:text-emerald-300 transition-colors flex items-center gap-1"
        >
          {{ isExpanded ? 'Hide' : 'View' }} Objectives
          <span class="inline-block transition-transform duration-200" [class.rotate-180]="isExpanded">â–¼</span>
        </button>
        @if (isExpanded) {
          <ul class="mt-2 pl-4 space-y-1 text-sm text-slate-500 list-disc animate-fade-in">
            @for (obj of project().objectives; track obj) {
              <li>{{ obj }}</li>
            }
          </ul>
        }
      </div>
    }
    <button
      type="button"
      (click)="onViewCaseStudy()"
      class="text-sm font-medium text-emerald-400 hover:text-emerald-300 border border-emerald-500/40 hover:border-emerald-500 rounded px-3 py-2 transition-all duration-200 hover:shadow-sm hover:shadow-emerald-500/20"
    >
      View Case Study
    </button>
  </ion-card-content>
</ion-card>
